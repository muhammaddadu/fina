/**
 * Clout Auth Library
 */
var auth = module.exports,
	debug = require('debug')('clout-auth:base'),
	async = require('async');

(function initialize() {
	(require('./lib/config'))(auth); // config && setEnv
	(require('./lib/request'))(auth); // request
})();

// var _session = null;
// async.series([
// 	function login(next) {
// 		auth.request.login({
// 			email: 'muhammad@dadu.co',
// 			password: 'password'
// 		}, function (err, user, session) {
// 			debug('auth.request.login');
// 			debug('err: %s', err);
// 			debug('user: %s', JSON.stringify(user));
// 			debug('opts: %s', JSON.stringify(session));
// 			_session = session;
// 			next();
// 		});
// 	},
// 	function whoami(next) {
// 		auth.request.whoami(_session, function (err, user, session) {
// 			debug('auth.request.whoami');
// 			debug('err: %s', err);
// 			debug('user: %s', JSON.stringify(user));
// 			debug('opts: %s', JSON.stringify(session));
// 			next();
// 		});
// 	}
// ], function logout() {
// 	auth.request.logout(_session, function (err) {
// 		debug('auth.request.logout');
// 		debug('err: %s', err);
// 	});
// });